#!/usr/bin/env ruby

$LOAD_PATH.unshift(File.expand_path(File.dirname(__FILE__) + '/../lib'))

require 'tag_mv'

$:.unshift File.expand_path('./lib')
require 'tag_mv/command_line'
#require 'tag_mv/client'

opts = TagMv::CommandLine.parse
puts opts.inspect
#client = TagMv::Client.new(opts)

#puts client.tags.inspect
#puts client.files.inspect

puts TagMv::Filesystem.root
if File.exist?(TagMv::Filesystem.root)
  puts "we're good! 👍"
else
  puts "missing dir"
  exit
end

tfs = TagMv::Filesystem.new(opts)
tfs.transfer
